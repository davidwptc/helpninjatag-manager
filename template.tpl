___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "HelpNinja Live Chat",
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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"
  },
  "description": "Implement HelpNinja Live chat using this GTM template",
  "categories": ["CHAT"],
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "trackingID",
    "displayName": "",
    "simpleValueType": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// Enter your template code here.
const injectScript = require('injectScript');
const trackingID = data.trackingID;
const url = 'https://configs.helpninja.com/helpninja.js?lanternid='+trackingID;
injectScript(url, data.gtmOnSuccess(), data.gtmOnFailure(), url);


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://configs.helpninja.com/helpninja.js/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: Untitled test 1
  code: |-
    const mockData = {
      // Mocked field values
       trackingID:"5ef2f7f0509ca549fb1cee2c"
    };

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    //assertApi('gtmOnSuccess').wasCalled();
    assertApi('gtmOnFailure').wasCalled();


___NOTES___

Created on 09/07/2020, 12:16:44
